# Help one lines

## Add gdb to docker

```Dockerfile
# debian || ubuntu
RUN apt -y update && apt install -y locales git gdb && git clone https://github.com/pwndbg/pwndbg /opt/pwndbg && cd /opt/pwndbg/ && bash setup.sh && sed -i '/en_US.UTF-8/s/^# //g' /etc/locale.gen && locale-gen
ENV LC_ALL en_US.UTF-8
```

## Makefile to kernel ctf exploits

```Makefile
all:
	musl-gcc -Wall -static -s exploit.c -o exp

clean:
	rm exp

rootfs:
	cd root && find . -print0 | cpio -o --format=newc --null > ../rootfs_updated.cpio

local: all
	rm -rf root/*
	cd root && cpio -idv < ../rootfs_updated.cpio && \
	mv ../exp . && \
	find . -print0 | cpio -o --format=newc --null > ../rootfs_updated.cpio
```

## Generate ABI from .sol

```py
from solcx import compile_source
import json, sys

# Solidity source code
source_code = ''
with open(sys.argv[1], 'r') as f:
    source_code = f.read()

compiled_sol = compile_source(source_code, output_values=['abi'])
contract_interface = compiled_sol[f"<stdin>:{sys.argv[2]}"]
abi = contract_interface['abi']
print(json.dumps(abi))
```